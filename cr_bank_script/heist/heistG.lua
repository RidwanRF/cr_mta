doorID = 2944;
drillerID = 2061;
bankCenter = {588.1797, -1530.4688, 25.5938};
bankRadius = 300;
startPoint = {592.744140625, -1527.1931152344, 16.39599609375};
startRadius = 15;
startNPCPoint = {587.63806152344, -1527.0531005859, 16.390674591064, 270};
startNPCSkin = 41;
startConversation = {
	[1] = "Ha jót akarsz magadnak akkor, most pontosan azt teszed amit mondok!",
	[2] = "Kérem, családom van ne bántson, megteszem amit kér!",
	[3] = "Rohanj a kapcsolóhoz és nyisd ki az ajtót de sürgősen, de csak semmi trükközés!",
	[4] = "Úgy lesz. Pontosan azt teszem amit kért!",
};
doorPositions = {
	[1] = {570.15, -1533.0240478516, 15.390674591064, 0, 0, 180, ["open"] = {180, 270}},
	[2] = {572.65, -1533.0240478516, 15.390674591064, 0, 0, 0, ["open"] = {0, -90}},
	[3] = {569.9, -1521.3775634766, 15.390674591064, 0, 0, 180, ["open"] = {180, 270}},
	[4] = {572.4, -1521.3775634766, 15.390674591064, 0, 0, 0, ["open"] = {0, -90}},
	[5] = {601.48522949219, -1506.8681640625, 20, 0, 0, -42, ["open"] = {-42, 48}},
	[6] = {599.62512207031, -1505.2490234375, 20, 0, 0, 140, ["open"] = {140, 50}},
	[7] = {586.9, -1524.4826660156, 15.390674591064, 0, 0, 180, ["open"] = {180, 270}},
	[8] = {589.36285400391, -1524.4826660156, 15.390674591064, 0, 0, 0, ["open"] = {0, -90}},
	[9] = {570.15, -1529.7454833984, 20.75, 0, 0, 180, ["open"] = {180, 270}},
	[10] = {572.65, -1529.7454833984, 20.75, 0, 0, 0, ["open"] = {0, -90}},
	[11] = {607.05, -1524.5950927734, 15.390674591064, 0, 0, 180, ["open"] = {180, 270}},
	[12] = {609.55, -1524.5950927734, 15.390674591064, 0, 0, 0, ["open"] = {0, -90}},
};
drillPoints = {
	[1] = {571.41198730469, -1534.3193359375, 15.5, 1.5, 0, ["doors"] = {1, 2}},
	[2] = {571.55407714844, -1531.7628173828, 15.5, 1.5, 180, ["doors"] = {1, 2}},
	[3] = {571.18707275391, -1522.6517333984, 15.5, 1.5, 0, ["doors"] = {3, 4}},
	[4] = {571.25885009766, -1519.9981689453, 15.5, 1.5, 180, ["doors"] = {3, 4}},
	[5] = {601.38073730469, -1505.0968017578, 20, 1.5, 138, ["doors"] = {5, 6}},
	[6] = {588.06512451172, -1525.82, 15.5, 1.5, 0, ["doors"] = {7, 8}},
	[7] = {588.10595703125, -1523.276123047, 15.5, 1.5, 180, ["doors"] = {7, 8}},
	[8] = {571.42620849609, -1530.8754882813, 20.781299591064, 1.5, 0, ["doors"] = {9, 10}},
	[9] = {571.3, -1528.5, 20.7, 1.5, 180, ["doors"] = {9, 10}},
	[10] = {608.27508544922, -1525.8411865234, 15.5, 1.5, 0, ["doors"] = {11, 12}},
	[11] = {608.28082275391, -1523.3, 15.5, 1.5, 180, ["doors"] = {11, 12}},
};
guardPositions = {
	[1] = {"George", 597, -1506, 21, 324, 71, 29, 10000, 0},
	[2] = {"Joseph", 599, -1510, 21, 324, 71, 27, 10000, 0},
	[3] = {"John", 572.25988769531, -1507.4663085938, 21.000049591064, 324, 71, 29, 10000, 0},
	[4] = {"Paul", 604.02795410156, -1522.8669433594, 21.000049591064, 324, 71, 29, 10000, 0},
	[5] = {"Steve", 593.03057861328, -1507.2430419922, 21.000049591064, 324, 71, 27, 10000, 0},
	[6] = {"Roger", 571.70361328125, -1512.0377197266, 21.000049591064, 324, 71, 29, 10000, 0},
	[7] = {"Andrew", 596.20520019531, -1514.76171875, 16.390674591064, 324, 71, 29, 10000, 0},
	[8] = {"Philip", 587.97760009766, -1518.7635498047, 12.695362091064, 324, 71, 31, 10000, 0},
	[9] = {"David", 603.79437255859, -1518.6085205078, 12.695362091064, 324, 71, 31, 10000, 0},
};
stealthGuardPositions = {
	[1] = {"George", 597, -1506, 21, 324, 71, 22, 10000, 0},
	[2] = {"Paul", 607, -1510, 21, 324, 71, 22, 10000, 0},
	[3] = {"Steve", 586.58160400391, -1515.7888183594, 21, 324, 71, 22, 10000, 0},
	[4] = {"Philip", 610.93176269531, -1509.0738525391, 16.390674591064, 324, 71, 22, 10000, 0},
	[5] = {"Roger", 588.12512207031, -1518.7330322266, 12.695362091064, 324, 71, 22, 10000, 0},
	[6] = {"Andrew", 598.78051757813, -1524.2388916016, 12.695362091064, 324, 71, 22, 10000, 0},
	[7] = {"John", 588.29937744141, -1517.2608642578, 16.390674591064, 324, 71, 22, 10000, 0},
};
exceptions = {
	[23] = true,
};
stealthRopePositions = {
	[1] = {["start"] = {582.62945556641, -1498.0385742188, 21.272432327271}, ["end"] = {582.62945556641, -1498.0385742188, 16}, ["inside"] = {582.68792724609, -1499.0845947266, 20.000049591064}},
	[2] = {["start"] = {579.80029296875, -1498.0280761719, 21.272432327271}, ["end"] = {579.80029296875, -1498.0280761719, 16}, ["inside"] = {579.77404785156, -1499.0853271484, 20.000049591064}},
};
stealthStartMarkers = {
	[1] = {582.62945556641, -1498.0385742188, 15.5},
	[2] = {579.80029296875, -1498.0280761719, 15.5},
};
securityPoint = {598.62780761719, -1509.2338867188, 20.000049591064};

function getPositionFront(pos, rot, meters)
    local meters = (type(meters) == "number" and meters) or 3
    local posX, posY, posZ = unpack(pos)
    local _, _, rotation = unpack(rot)
    posX = posX - math.sin(math.rad(rotation)) * meters
    posY = posY + math.cos(math.rad(rotation)) * meters
    rot = rotation + math.cos(math.rad(rotation))
    return posX, posY, posZ, rot
end

function findRotation3D(x1, y1, z1, x2, y2, z2) 
    local rotx = math.atan2(z2-z1, getDistanceBetweenPoints2D(x2, y2, x1, y1))
    rotx = math.deg(rotx)
    local rotz = -math.deg(math.atan2(x2 -x1, y2-y1))
    rotz = rotz < 0 and rotz + 360 or rotz
    return rotx, 0, rotz
end

function getNearbyPlayers(m)
	local temp = {}
	local pos = localPlayer:getPosition()
	for i, v in pairs(getElementsByType("player")) do
		local ppos = v:getPosition()
		local dist = getDistanceBetweenPoints3D(pos.x, pos.y, pos.z, ppos.x, ppos.y, ppos.z)
		if(dist <= m) then
			table.insert(temp, v)
		end
	end
	return temp
end